<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuck-A-Luck Web</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .game-container {
            background: #111;
            border: 2px solid #0f0;
            padding: 20px;
        }
        h1 {
            color: #0f0;
            text-align: center;
            margin: 0 0 20px 0;
        }
        #output {
            background: #000;
            border: 1px solid #0f0;
            padding: 15px;
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.4;
        }
        .input-area {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        input {
            flex: 1;
            padding: 10px;
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            font-family: 'Courier New', monospace;
            font-size: 16px;
        }
        button {
            padding: 10px 20px;
            background: #222;
            color: #0f0;
            border: 1px solid #0f0;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 16px;
        }
        button:hover {
            background: #333;
        }
        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .money {
            color: #ff0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>CHUCK-A-LUCK</h1>

        <div id="output">                       CHUCK-A-LUCK
                 CREATIVE COMPUTING
             MORRISTOWN, NEW JERSEY


CHOOSE A NUMBER FROM 1 TO 6. I WILL ROLL 3 DICE.
IF YOUR NUMBER MATCHES 1 DIE, I PAY OFF EVEN MONEY.
TWO DICE, 2:1    3 DICE, 3:1


YOU HAVE $500. MAKE A BET.
        </div>

        <div class="input-area">
            <input type="text" id="userInput" placeholder="Enter bet or number..." autofocus>
            <button onclick="processInput()">ENTER</button>
        </div>

        <div class="controls">
            <button onclick="newGame()">NEW GAME</button>
            <button onclick="showHelp()">HELP</button>
            <button onclick="quitGame()">QUIT</button>
        </div>
    </div>

    <script>
        let money = 500;
        let state = 'bet'; // 'bet' or 'number'
        let currentBet = 0;
        let currentNumber = 0;

        function addToOutput(text) {
            const output = document.getElementById('output');
            output.textContent += '\n' + text;
            output.scrollTop = output.scrollHeight;
        }

        function updateMoney() {
            const output = document.getElementById('output');
            const lines = output.textContent.split('\n');
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].startsWith('YOU HAVE $')) {
                    lines[i] = `YOU HAVE $${money}. MAKE A BET.`;
                    break;
                }
            }
            output.textContent = lines.join('\n');
        }

        function processInput() {
            const input = document.getElementById('userInput');
            const value = input.value.trim();

            if (!value) return;

            addToOutput('> ' + value);

            if (state === 'bet') {
                const bet = parseFloat(value);
                if (isNaN(bet) || bet <= 0) {
                    addToOutput("DON'T GET CUTE!!!");
                } else if (bet > money) {
                    addToOutput("I DON'T TAKE I.O.U's !!!!");
                } else if (bet * 100 !== Math.floor(bet * 100)) {
                    addToOutput("DON'T GET CUTE!!!");
                } else {
                    currentBet = bet;
                    state = 'number';
                    addToOutput("CHOOSE A NUMBER");
                }
            } else if (state === 'number') {
                const num = parseFloat(value);
                if (isNaN(num) || !Number.isInteger(num) || num < 1 || num > 6) {
                    addToOutput("CHEATER'!!!!!");
                    addToOutput("CHOOSE A NUMBER");
                } else {
                    currentNumber = num;
                    playRound();
                }
            }

            input.value = '';
            input.focus();
        }

        function playRound() {
            // Roll dice like BASIC: A, D, C
            const A = Math.floor(Math.random() * 6) + 1;
            const D = Math.floor(Math.random() * 6) + 1;
            const C = Math.floor(Math.random() * 6) + 1;

            // Print like BASIC: PRINT A;"    ";:PRINT D;"    ";:PRINT C;"     "
            addToOutput(`${A}    ${D}    ${C}     `);

            // Count matches like BASIC
            let T = 0;
            if (A === currentNumber) T++;
            if (D === currentNumber) T++;
            if (C === currentNumber) T++;

            addToOutput(`YOU'VE MATCHED ${T} TIMES.`);

            // Payout like BASIC
            if (T === 0) {
                addToOutput(`YOU LOOSE $${currentBet}`);
                money -= currentBet;
            } else if (T === 1) {
                addToOutput(`YOU'VE WON $${currentBet}`);
                money += currentBet;
            } else if (T === 2) {
                addToOutput(`YOU'VE WON $${currentBet * 2}`);
                money += currentBet * 2;
            } else if (T === 3) {
                addToOutput(`YOU'VE WON $${currentBet * 3}`);
                money += currentBet * 3;
            }

            // Check game over
            if (money <= 0) {
                addToOutput('\n\nGAME OVER');
                document.getElementById('userInput').disabled = true;
            } else {
                addToOutput('');
                updateMoney();
                state = 'bet';
            }
        }

        function newGame() {
            money = 500;
            state = 'bet';
            currentBet = 0;
            currentNumber = 0;
            document.getElementById('output').textContent = `                       CHUCK-A-LUCK
                 CREATIVE COMPUTING
             MORRISTOWN, NEW JERSEY


CHOOSE A NUMBER FROM 1 TO 6. I WILL ROLL 3 DICE.
IF YOUR NUMBER MATCHES 1 DIE, I PAY OFF EVEN MONEY.
TWO DICE, 2:1    3 DICE, 3:1


YOU HAVE $500. MAKE A BET.`;
            document.getElementById('userInput').disabled = false;
            document.getElementById('userInput').focus();
        }

        function showHelp() {
            addToOutput('\n=== HELP ===');
            addToOutput('1. Enter your bet (e.g., 10, 5.50)');
            addToOutput('2. Enter number 1-6');
            addToOutput('3. Dice are rolled automatically');
            addToOutput('4. Payout: 0 matches=lose, 1=1x, 2=2x, 3=3x');
            addToOutput('5. Start with $500');
        }

        function quitGame() {
            addToOutput('\nTHANKS FOR PLAYING!');
            document.getElementById('userInput').disabled = true;
        }

        // Handle Enter key
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                processInput();
            }
        });
    </script>
</body>
</html>